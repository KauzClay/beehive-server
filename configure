#!/bin/bash

# Get the IP for the cassandra node you want to send data to.


set -e
set -x



mkdir -p /etc/waggle/
echo 0 > /etc/waggle/hostname # The cloud's hostname is defined as 0

if [ ! -e /etc/waggle/beehive-server.cfg ] ; then
  echo "rabbitmq-host=rabbitmq" > /etc/waggle/beehive-server.cfg
fi

# All of the general configuration files for Waggle are stored here
mkdir -p /usr/lib/waggle
echo Moving waggle server folder to proper place.


# All of the code is copied into the /usr/lib/waggle folder
#cp --recursive . /usr/lib/waggle/
#cp --recursive ./waggle-protocol/* /usr/lib/waggle/

#ln -sf waggle-protocol/utilities/
#ln -sf waggle-protocol/protocol/

source ./scripts/configure_cassandra.sh

# here not needed anymore
#source ./scripts/configure_rabbitmq.sh 
#source ./scripts/configure_ssl.sh



exit 0
